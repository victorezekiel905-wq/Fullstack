# ===============================================================
# ENTERPRISE ENVIRONMENT CONFIGURATION
# ===============================================================
# Full configuration for production-grade enterprise deployment
# with comprehensive security, observability, and scalability.
#
# Generated: 2024-02-04
# Version: 3.0 Enterprise Edition
# ===============================================================

# ===========================================
# APPLICATION ENVIRONMENT
# ===========================================
NODE_ENV=enterprise
PORT=                           # Dynamic - provided by Render

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
DATABASE_HOST=                  # From Render PostgreSQL
DATABASE_PORT=5432
DATABASE_USER=                  # From Render PostgreSQL
DATABASE_PASSWORD=              # From Render PostgreSQL (keep secret!)
DATABASE_NAME=synergyswift
DATABASE_SSL=true              # REQUIRED for Render PostgreSQL
DATABASE_POOL_SIZE=10          # Enterprise: 10 connections
DATABASE_CONNECTION_TIMEOUT=10000    # 10 seconds
DATABASE_IDLE_TIMEOUT=60000          # 1 minute

# ===========================================
# JWT & AUTHENTICATION (ENTERPRISE-GRADE)
# ===========================================
# Generate secrets with: openssl rand -hex 64
# MINIMUM 128 characters for enterprise security
JWT_SECRET=                     # REQUIRED: 128+ character secret
JWT_REFRESH_SECRET=             # REQUIRED: 128+ character secret
JWT_EXPIRATION=15m             # Access token: 15 minutes
JWT_REFRESH_EXPIRATION=7d      # Refresh token: 7 days
JWT_ISSUER=synergyswift        # Token issuer
JWT_AUDIENCE=synergyswift-api  # Token audience

# ===========================================
# CORS SECURITY (STRICT ALLOWLIST)
# ===========================================
# NO WILDCARDS in enterprise - specify exact origins
# Format: https://app.example.com,https://admin.example.com
CORS_ORIGIN=                    # REQUIRED: Comma-separated allowed origins
CORS_CREDENTIALS=true          # Allow credentials (cookies, auth headers)

# ===========================================
# RATE LIMITING (MEMORY-SAFE)
# ===========================================
RATE_LIMIT_TTL=60              # Time window: 60 seconds
RATE_LIMIT_MAX=100             # Max requests per TTL
RATE_LIMIT_GLOBAL_MAX=1000     # Global limit across all users

# ===========================================
# LOGGING & OBSERVABILITY
# ===========================================
LOG_LEVEL=info                 # error | warn | info | debug
LOG_SQL_QUERIES=false          # Enable for debugging only

# ===========================================
# SECURITY HEADERS
# ===========================================
ENABLE_HELMET=true             # HTTP security headers
HSTS_MAX_AGE=31536000          # 1 year in seconds

# ===========================================
# SESSION & AUTHENTICATION LIMITS
# ===========================================
SESSION_TIMEOUT=900            # 15 minutes (seconds)
MAX_LOGIN_ATTEMPTS=5           # Before lockout
LOGIN_LOCKOUT_DURATION=900     # 15 minutes (seconds)

# ===========================================
# PERFORMANCE & SCALING
# ===========================================
MAX_CONCURRENT_REQUESTS=100    # Enterprise: higher concurrency
REQUEST_TIMEOUT=30000          # 30 seconds (milliseconds)
ENABLE_COMPRESSION=true        # Gzip compression

# ===========================================
# COMMUNICATION SERVICES (OPTIONAL)
# ===========================================

# Email (SMTP) - e.g., SendGrid, Mailgun, AWS SES
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=

# Twilio (SMS/WhatsApp)
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=
WHATSAPP_PHONE_NUMBER=

# ===========================================
# APPLICATION METADATA
# ===========================================
APP_NAME=SynergySwift
APP_VERSION=3.0.0
APP_DESCRIPTION=Enterprise School Management System

# ===========================================
# ENTERPRISE DEPLOYMENT NOTES
# ===========================================
# 1. Generate JWT secrets:
#    openssl rand -hex 64
#
# 2. CORS: Never use "*" in production - specify exact URLs
#
# 3. Database SSL: MUST be true for Render PostgreSQL
#
# 4. Monitoring: Use Render dashboard + external monitoring
#
# 5. Backup: Set up weekly manual backups (Render free tier)
#
# 6. Rate Limiting: Adjust based on expected traffic
#
# 7. Log Level: Use 'info' or 'warn' in production
#
# 8. Security: Review SECURITY_MODEL.md for compliance
#
# 9. Scaling: See SCALING_STRATEGY.md when ready
#
# 10. Support: Review all *documentation files*
# ===========================================
