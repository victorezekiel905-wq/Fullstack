# ================================
# SYNERGYSWIFT ENTERPRISE CONFIGURATION
# ================================
# Production-ready configuration for Render free tier deployment
# Last Updated: 2026-02-02
# Version: 2.0 Enterprise Edition
# ================================

# ================================
# APPLICATION SETTINGS
# ================================
NODE_ENV=production
PORT=3000
APP_NAME=SynergySwift
APP_URL=https://your-backend.onrender.com

# ================================
# DATABASE CONFIGURATION
# ================================
# Use Internal Database URL from Render PostgreSQL
# Format: postgresql://user:password@host/database
DATABASE_URL=postgresql://synergyswift_user:your-password@dpg-xxxxx-a/synergyswift
DB_HOST=dpg-xxxxx-a.oregon-postgres.render.com
DB_PORT=5432
DB_USERNAME=synergyswift_user
DB_PASSWORD=your-secure-password-here
DB_DATABASE=synergyswift
DB_SYNCHRONIZE=false
DB_LOGGING=false
DB_SSL=true

# ================================
# SECURITY & AUTHENTICATION
# ================================
# Generate a strong random string (minimum 32 characters)
# Example: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-minimum-32-characters-change-this-in-production
JWT_EXPIRATION=7d
JWT_REFRESH_SECRET=your-refresh-token-secret-minimum-32-characters-change-this
JWT_REFRESH_EXPIRATION=30d

# Encryption key for sensitive data
ENCRYPTION_KEY=your-encryption-key-32-characters-minimum

# ================================
# CORS & API CONFIGURATION
# ================================
# Frontend URL (update after frontend deployment)
CORS_ORIGIN=https://your-frontend.onrender.com
# For multiple origins: CORS_ORIGIN=https://frontend1.com,https://frontend2.com

# API Configuration
API_PREFIX=api/v1
API_VERSION=1.0

# Rate Limiting
RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=100

# ================================
# EMAIL SERVICE (SMTP)
# ================================
# Gmail Example:
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password

# SendGrid Example:
# SMTP_HOST=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_USER=apikey
# SMTP_PASS=your-sendgrid-api-key

# Mailgun Example:
SMTP_HOST=smtp.mailgun.org
SMTP_PORT=587
SMTP_USER=postmaster@your-domain.mailgun.org
SMTP_PASS=your-mailgun-smtp-password
SMTP_FROM=noreply@synergyswift.com
SMTP_FROM_NAME=SynergySwift School Management

# ================================
# SMS SERVICE (TWILIO)
# ================================
# Get credentials from: https://console.twilio.com
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# ================================
# WHATSAPP INTEGRATION
# ================================
# Provider: 'twilio' or 'whatsapp-business'
WHATSAPP_PROVIDER=twilio

# For Twilio WhatsApp:
TWILIO_WHATSAPP_NUMBER=+14155238886

# For WhatsApp Business API:
WHATSAPP_PHONE_NUMBER_ID=your-phone-number-id
WHATSAPP_ACCESS_TOKEN=your-whatsapp-business-access-token

# ================================
# PUSH NOTIFICATIONS
# ================================
# Firebase Cloud Messaging
FCM_SERVER_KEY=your-firebase-server-key
FCM_SENDER_ID=your-firebase-sender-id

# ================================
# FILE STORAGE
# ================================
# Storage Provider: 'local' | 'aws' | 'azure' | 'gcp'
STORAGE_PROVIDER=local
STORAGE_PATH=./uploads

# AWS S3 Configuration (if using AWS)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=synergyswift-files

# Azure Blob Storage (if using Azure)
AZURE_STORAGE_CONNECTION_STRING=your-azure-connection-string
AZURE_STORAGE_CONTAINER=synergyswift

# Google Cloud Storage (if using GCP)
GCP_PROJECT_ID=your-gcp-project-id
GCP_STORAGE_BUCKET=synergyswift-bucket

# ================================
# PAYMENT GATEWAYS
# ================================
# Stripe Configuration
STRIPE_SECRET_KEY=sk_live_your-stripe-secret-key
STRIPE_PUBLISHABLE_KEY=pk_live_your-stripe-publishable-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# PayStack Configuration (for African markets)
PAYSTACK_SECRET_KEY=sk_live_your-paystack-secret-key
PAYSTACK_PUBLIC_KEY=pk_live_your-paystack-public-key

# Flutterwave Configuration
FLUTTERWAVE_SECRET_KEY=your-flutterwave-secret-key
FLUTTERWAVE_PUBLIC_KEY=your-flutterwave-public-key

# ================================
# REDIS & CACHING
# ================================
# Redis URL from Render or external provider
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_URL=redis://localhost:6379

# Cache TTL (in seconds)
CACHE_TTL=3600

# ================================
# QUEUE & BACKGROUND JOBS
# ================================
# Bull Queue Configuration
QUEUE_REDIS_HOST=localhost
QUEUE_REDIS_PORT=6379
QUEUE_REDIS_PASSWORD=

# ================================
# LOGGING & MONITORING
# ================================
# Log Level: 'error' | 'warn' | 'log' | 'debug' | 'verbose'
LOG_LEVEL=log

# Sentry Configuration (Error Tracking)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production

# New Relic Configuration (APM)
NEW_RELIC_LICENSE_KEY=your-new-relic-license-key
NEW_RELIC_APP_NAME=SynergySwift-Production

# ================================
# ANALYTICS & METRICS
# ================================
# Google Analytics
GA_TRACKING_ID=UA-XXXXXXXXX-X
GA_MEASUREMENT_ID=G-XXXXXXXXXX

# Mixpanel
MIXPANEL_TOKEN=your-mixpanel-token

# ================================
# THIRD-PARTY INTEGRATIONS
# ================================
# Google Services
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# Microsoft Azure AD
AZURE_AD_CLIENT_ID=your-azure-ad-client-id
AZURE_AD_CLIENT_SECRET=your-azure-ad-client-secret
AZURE_AD_TENANT_ID=your-azure-ad-tenant-id

# ================================
# BIOMETRICS & ATTENDANCE
# ================================
# Biometric Device Integration
BIOMETRIC_API_URL=http://biometric-device-ip:port
BIOMETRIC_API_KEY=your-biometric-api-key

# ================================
# SMS GATEWAY (Alternative)
# ================================
# Africa's Talking
AFRICASTALKING_USERNAME=sandbox
AFRICASTALKING_API_KEY=your-africastalking-api-key
AFRICASTALKING_SENDER_ID=SYNERGYSWIFT

# ================================
# LEARNING MANAGEMENT SYSTEM
# ================================
# Video Conferencing (Zoom Integration)
ZOOM_API_KEY=your-zoom-api-key
ZOOM_API_SECRET=your-zoom-api-secret

# ================================
# MULTI-TENANCY
# ================================
# Tenant Isolation Mode: 'schema' | 'database'
TENANT_MODE=schema
DEFAULT_TENANT=default

# ================================
# PERFORMANCE & OPTIMIZATION
# ================================
# Memory Optimization for Render Free Tier
NODE_OPTIONS=--max-old-space-size=460

# Request Timeout (milliseconds)
REQUEST_TIMEOUT=30000

# Max Upload Size (MB)
MAX_UPLOAD_SIZE=10

# ================================
# BACKUP & DISASTER RECOVERY
# ================================
# Automated Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=synergyswift-backups

# ================================
# COMPLIANCE & GDPR
# ================================
# Data Retention Policy (days)
DATA_RETENTION_DAYS=2555

# Privacy Policy URL
PRIVACY_POLICY_URL=https://synergyswift.com/privacy
TERMS_OF_SERVICE_URL=https://synergyswift.com/terms

# ================================
# FEATURE FLAGS
# ================================
FEATURE_EMAIL_ENABLED=true
FEATURE_SMS_ENABLED=true
FEATURE_WHATSAPP_ENABLED=true
FEATURE_PAYMENTS_ENABLED=true
FEATURE_BIOMETRIC_ENABLED=false
FEATURE_VIDEO_CONFERENCING=false
FEATURE_AI_ANALYTICS=false

# ================================
# WEBHOOK ENDPOINTS
# ================================
WEBHOOK_SECRET=your-webhook-secret-key
PAYMENT_WEBHOOK_URL=/webhooks/payment
ATTENDANCE_WEBHOOK_URL=/webhooks/attendance

# ================================
# ENTERPRISE FEATURES
# ================================
# Single Sign-On (SSO)
SSO_ENABLED=false
SAML_ENTRY_POINT=https://sso.your-domain.com
SAML_ISSUER=synergyswift
SAML_CERT=your-saml-certificate

# Advanced Analytics
ANALYTICS_ENABLED=true
REALTIME_DASHBOARD=true

# Audit Logging
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=365

# ================================
# NOTIFICATION PREFERENCES
# ================================
DEFAULT_NOTIFICATION_CHANNELS=in-app,email
HIGH_PRIORITY_CHANNELS=in-app,email,sms
CRITICAL_CHANNELS=in-app,email,sms,whatsapp

# ================================
# LOCALIZATION & INTERNATIONALIZATION
# ================================
DEFAULT_LANGUAGE=en
SUPPORTED_LANGUAGES=en,fr,es,pt,sw
DEFAULT_TIMEZONE=UTC
DEFAULT_CURRENCY=USD

# ================================
# DEMO & TESTING
# ================================
# Demo Mode (disables certain destructive operations)
DEMO_MODE=false

# Test Mode (uses sandbox APIs)
TEST_MODE=false

# ================================
# MAINTENANCE
# ================================
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=System under maintenance. Please check back later.

# ================================
# NOTES
# ================================
# 1. Never commit this file with real credentials to version control
# 2. Use Render's environment variables dashboard to set these values
# 3. For production, generate strong random values for all secrets
# 4. Enable only the features you need to reduce costs
# 5. Update CORS_ORIGIN after deploying frontend
# 6. Use Internal Database URL (starts with dpg-) for Render PostgreSQL
# 7. Minimum memory for free tier: 512MB (set NODE_OPTIONS=--max-old-space-size=460)
# 8. For security, rotate JWT_SECRET and other secrets regularly
